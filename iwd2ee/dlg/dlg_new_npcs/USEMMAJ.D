BEGIN ~USEMMAJ~

IF ~~ THEN BEGIN 0
  SAY @40307
  IF ~~ THEN EXTERN ~USREIGJ~ 30
  IF ~InParty("USVUNA")
See("USVUNA",0)
!StateCheck("USVUNA", EX_NO_DIALOGUE)~ THEN EXTERN ~USVUNAJ~ 0
END

IF ~~ THEN BEGIN 1
  SAY @40499
  IF ~~ THEN EXTERN ~USGEOFJ~ 45
END

IF ~~ THEN BEGIN 2
  SAY @40501
  IF ~~ THEN GOTO 3
END

IF ~~ THEN BEGIN 3
  SAY @40502
  IF ~~ THEN REPLY @40503 GOTO 4
  IF ~~ THEN REPLY @40504 GOTO 8
  IF ~~ THEN REPLY @40505 GOTO 9
  IF ~~ THEN REPLY @40506 GOTO 10
END

IF ~~ THEN BEGIN 4
  SAY @40507
  IF ~~ THEN REPLY @40508 EXIT
  IF ~~ THEN REPLY @40509 GOTO 5
  IF ~~ THEN REPLY @40510 GOTO 7
END

IF ~~ THEN BEGIN 5
  SAY @40511
  IF ~~ THEN REPLY @40512 GOTO 6
  IF ~~ THEN REPLY @40513 GOTO 7
END

IF ~~ THEN BEGIN 6
  SAY @40514
  IF ~~ THEN REPLY @40515 EXIT
  IF ~~ THEN REPLY @40516 EXIT
END

IF ~~ THEN BEGIN 7
  SAY @40517
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 8
  SAY @40518
  IF ~~ THEN REPLY @40508 EXIT
  IF ~~ THEN REPLY @40509 GOTO 5
  IF ~~ THEN REPLY @40510 GOTO 7
END

IF ~~ THEN BEGIN 9
  SAY @40519
  IF ~~ THEN REPLY @40520 EXIT
  IF ~~ THEN REPLY @40510 GOTO 7
END

IF ~~ THEN BEGIN 10
  SAY @40521
  IF ~~ THEN EXIT
END

IF ~InParty(Myself)
Global("BANTERUSEMMAJ","GLOBAL",1)~ THEN BEGIN 11
  SAY @40569
  IF ~!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USVUNA)")
IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USGEOF)")~ THEN REPLY @40571 DO ~SetGlobal("DIDBANTERUSEMMAJ1","GLOBAL",1)
SetGlobal("BANTERUSEMMAJ","GLOBAL",0)~ EXTERN ~USGEOFJ~ 66
  IF ~!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USVUNA)")
!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USGEOF)")~ THEN REPLY @40571 DO ~SetGlobal("DIDBANTERUSEMMAJ1","GLOBAL",1)
SetGlobal("BANTERUSEMMAJ","GLOBAL",0)~ GOTO 12
  IF ~!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USVUNA)")
IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USGEOF)")~ THEN REPLY @40572 DO ~SetGlobal("DIDBANTERUSEMMAJ1","GLOBAL",1)
SetGlobal("BANTERUSEMMAJ","GLOBAL",0)~ EXTERN ~USGEOFJ~ 71
  IF ~!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USVUNA)")
!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USGEOF)")
IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USREIG)")~ THEN REPLY @40572 DO ~SetGlobal("DIDBANTERUSEMMAJ1","GLOBAL",1)
SetGlobal("BANTERUSEMMAJ","GLOBAL",0)~ EXTERN ~USREIGJ~ 80
  IF ~!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USVUNA)")
!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USGEOF)")
!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USREIG)")~ THEN REPLY @40573 DO ~SetGlobal("DIDBANTERUSEMMAJ1","GLOBAL",1)
SetGlobal("BANTERUSEMMAJ","GLOBAL",0)~ EXIT
  IF ~!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USVUNA)")
IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USGEOF)")~ THEN REPLY @40574 DO ~SetGlobal("DIDBANTERUSEMMAJ1","GLOBAL",1)
SetGlobal("BANTERUSEMMAJ","GLOBAL",0)~ EXTERN ~USGEOFJ~ 72
  IF ~!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USVUNA)")
!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USGEOF)")~ THEN REPLY @40574 DO ~SetGlobal("DIDBANTERUSEMMAJ1","GLOBAL",1)
SetGlobal("BANTERUSEMMAJ","GLOBAL",0)~ EXIT
  IF ~!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USVUNA)")~ THEN REPLY @40575 DO ~SetGlobal("DIDBANTERUSEMMAJ1","GLOBAL",1)
SetGlobal("BANTERUSEMMAJ","GLOBAL",0)~ GOTO 18
  IF ~!IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USVUNA)")~ THEN REPLY @40576 DO ~SetGlobal("DIDBANTERUSEMMAJ1","GLOBAL",1)
SetGlobal("BANTERUSEMMAJ","GLOBAL",0)~ GOTO 19
  IF ~IEex_LuaTrigger("return IEex_IfValidForPartyDialogue(USVUNA)")~ THEN DO ~SetGlobal("DIDBANTERUSEMMAJ1","GLOBAL",1)
SetGlobal("BANTERUSEMMAJ","GLOBAL",0)~ EXTERN ~USVUNAJ~ 3
END

IF ~~ THEN BEGIN 12
  SAY @40616
  IF ~~ THEN REPLY @40617 GOTO 13
  IF ~~ THEN REPLY @40618 GOTO 17
  IF ~~ THEN REPLY @40619 EXIT
END

IF ~~ THEN BEGIN 13
  SAY @40620
  IF ~~ THEN REPLY @40621 GOTO 14
  IF ~~ THEN REPLY @40622 GOTO 15
  IF ~~ THEN REPLY @40623 GOTO 16
END

IF ~~ THEN BEGIN 14
  SAY @40624
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 15
  SAY @40625
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 16
  SAY @40626
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 17
  SAY @40627
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 18
  SAY @40646
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 19
  SAY @40653
  IF ~~ THEN REPLY @40621 GOTO 14
  IF ~~ THEN REPLY @40622 GOTO 15
  IF ~~ THEN REPLY @40623 GOTO 16
END